class ZoneSelect{constructor(t){this.pdfZone=document.querySelector(`#${t}`),this.startPoint={x:0,y:0},this.selectedZone={start:{x:0,y:0},end:{x:0,y:0},width:0,height:0},this.startPoint={x:0,y:0},this.drawing=!1,this.tamponDiv=document.createElement("div"),this.initialize()}getData(){const t=this.pdfZone.getBoundingClientRect().left,e=this.pdfZone.getBoundingClientRect().top;let s={start:{x:0,y:0},end:{x:0,y:0},width:0,height:0};return s.start.x=this.selectedZone.start.x-t,s.end.x=this.selectedZone.end.x-t,s.start.y=this.selectedZone.start.y-e,s.end.y=this.selectedZone.end.y-e,s.width=this.selectedZone.end.x-this.selectedZone.start.x,s.height=this.selectedZone.end.y-this.selectedZone.start.y,s}initialize(){this.deleteSelectedZoneIfExists(),this.tamponDiv.id="tampon",this.tamponDiv.style.border="2px solid red",this.tamponDiv.style.position="fixed",this.tamponDiv.style.display="none",this.pdfZone.append(this.tamponDiv),this.pdfZone.style.cursor="crosshair",document.onmousemove=(t=>{this.drawZone(t)}),this.pdfZone.onmousedown=(t=>{this.startDraw(t)}),document.onmouseup=(t=>{this.drawing=!1})}destroy(){this.deleteSelectedZoneIfExists(),this.pdfZone.style.cursor="auto",this.pdfZone.removeEventListener("onmousedown",this.startDraw),this.pdfZone.removeEventListener("onmousemove",this.drawZone)}deleteSelectedZoneIfExists(){null!=document.querySelector("#tampon")&&document.querySelector("#tampon").remove()}drawZone(t){if(!this.drawing)return;let e=this.pdfZone.getBoundingClientRect().top,s=this.pdfZone.getBoundingClientRect().left,i=e+this.pdfZone.offsetHeight-4,n=s+this.pdfZone.offsetWidth-4;t.clientX>this.startPoint.x?(this.selectedZone.start.x=this.startPoint.x,this.selectedZone.end.x=t.clientX>n?n:t.clientX):(this.selectedZone.start.x=t.clientX<s?s:t.clientX,this.selectedZone.end.x=this.startPoint.x),t.clientY>this.startPoint.y?(this.selectedZone.start.y=this.startPoint.y,this.selectedZone.end.y=t.clientY>i?i:t.clientY):(this.selectedZone.start.y=t.clientY<e?e:t.clientY,this.selectedZone.end.y=this.startPoint.y),this.tamponDiv.style.width=this.selectedZone.end.x-this.selectedZone.start.x+"px",this.tamponDiv.style.height=this.selectedZone.end.y-this.selectedZone.start.y+"px",this.tamponDiv.style.left=`${this.selectedZone.start.x}px`,this.tamponDiv.style.top=`${this.selectedZone.start.y}px`,this.tamponDiv.style.display="block",this.tamponDiv.offsetHeight>0||this.tamponDiv.offsetWidth>0||(this.tamponDiv.style.display="none")}startDraw(t){t.preventDefault(),this.drawing=!0,this.startPoint.x=t.clientX,this.startPoint.y=t.clientY,this.selectedZone.start.x=t.clientX,this.selectedZone.start.y=t.clientY,this.selectedZone.end.x=t.clientX,this.selectedZone.end.y=t.clientY,this.tamponDiv.style.left=this.selectedZone.start.x-2+"px",this.tamponDiv.style.top=this.selectedZone.start.y-2+"px",this.tamponDiv.style.width="0px",this.tamponDiv.style.height="0px",this.tamponDiv.style.display="none"}}